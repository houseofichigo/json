{
  "meta": {
    "instanceId": "c06b75187a3df8fc1f7d0dca41a1070761a5c8ab93bdb0bd30143dfe764a0663"
  },
  "nodes": [
    {
      "id": "7b871655-6aaf-48c0-adde-29d5c21ba6a5",
      "name": "When clicking ‘Execute workflow’",
      "type": "n8n-nodes-base.manualTrigger",
      "position": [
        20,
        420
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "eb4c10b6-d72a-4356-82c4-95a3c700f7f8",
      "name": "Switch",
      "type": "n8n-nodes-base.switch",
      "position": [
        680,
        420
      ],
      "parameters": {},
      "typeVersion": 3.2
    },
    {
      "id": "4ad8e9cc-d7af-4969-99c2-92cbdda36f0d",
      "name": "Filter For Likes",
      "type": "n8n-nodes-base.filter",
      "position": [
        460,
        420
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "35076fc4-c507-4751-9f18-337480bdb217",
      "name": "Wait",
      "type": "n8n-nodes-base.wait",
      "position": [
        1700,
        720
      ],
      "webhookId": "1cda7407-6321-4d8d-b532-19f42514eb63",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "1c712982-8f12-4bb9-b138-70ab5fa93544",
      "name": "Wait1",
      "type": "n8n-nodes-base.wait",
      "position": [
        1960,
        420
      ],
      "webhookId": "1cda7407-6321-4d8d-b532-19f42514eb63",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "be474566-da3d-407b-9bdc-e0e607204fe1",
      "name": "Download Video",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1200,
        40
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "9f5265fb-5135-484b-9c0b-87b4a3519025",
      "name": "Upload Video to Drive",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        1420,
        40
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "da4075a2-aac8-4c1d-a41e-0165c45fa567",
      "name": "Wait2",
      "type": "n8n-nodes-base.wait",
      "position": [
        3420,
        120
      ],
      "webhookId": "1cda7407-6321-4d8d-b532-19f42514eb63",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "28474a12-11dd-49c7-8309-6b4a2bed2f13",
      "name": "Run Ad Library Scraper",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        240,
        420
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "bffdf838-2a9d-4992-8664-c053b069a8ed",
      "name": "Loop Over Image Ads",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        900,
        420
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "05bcf6cc-d63f-4ccb-8e73-26f7e02a04b8",
      "name": "Loop Over Text Ads",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        900,
        720
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "c4ad841b-e79c-4e90-b8cf-39e63e6ceee4",
      "name": "Loop Over Video Ads",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        900,
        120
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "bb5eff48-7181-420c-b0f3-c0be58a40864",
      "name": "Begin Gemini Upload Session",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1620,
        40
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "c4502850-8a5b-4f2e-a0eb-209de70725a7",
      "name": "Redownload Video",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        1840,
        40
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "cd220a1c-0fb6-4644-a364-a53335427bfc",
      "name": "Upload Video to Gemini",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2060,
        40
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "dc7b7679-6c4d-469e-be36-c2e860362a67",
      "name": "Analyze Video with Gemini",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        2540,
        40
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 4.2,
      "waitBetweenTries": 15
    },
    {
      "id": "b2c21f99-b9f6-4c69-a740-eff294bba6d7",
      "name": "Output Video Summary",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        2820,
        40
      ],
      "parameters": {},
      "typeVersion": 1.8
    },
    {
      "id": "9e74b57d-9666-42c4-996b-1cef22401730",
      "name": "Add as Type = Video",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        3180,
        40
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "c7c07c50-e045-481a-a3fe-d0163d89563e",
      "name": "Analyze Image",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1200,
        340
      ],
      "parameters": {},
      "typeVersion": 1.8
    },
    {
      "id": "584af5be-011b-45e2-82c9-e95a12d8c427",
      "name": "Output Image Summary",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1400,
        340
      ],
      "parameters": {},
      "typeVersion": 1.8
    },
    {
      "id": "dd8bba7b-90ff-43dc-ac20-278ec982b8b1",
      "name": "Add as Type = Image",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1760,
        340
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "39dfab9c-149c-41d7-ab98-3f64a5f26a06",
      "name": "Output Text Summary",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        1120,
        640
      ],
      "parameters": {},
      "typeVersion": 1.8
    },
    {
      "id": "bc660880-87c8-4bf1-975e-d71ed813d1d5",
      "name": "Add as Type = Text",
      "type": "n8n-nodes-base.googleSheets",
      "position": [
        1480,
        640
      ],
      "parameters": {},
      "typeVersion": 4.6
    },
    {
      "id": "76f07391-8295-4ddd-bde0-ebe9e8f74ad2",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        100,
        40
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "831f186e-fc4e-434b-be78-27c9725bc1f5",
      "name": "Wait3",
      "type": "n8n-nodes-base.wait",
      "position": [
        2280,
        40
      ],
      "webhookId": "ac11c85a-5b73-4a29-9667-615e811a5ad8",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "7c3ce2fb-5322-40c2-82f8-f9a310da0358",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -40,
        340
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "3a797eea-9cca-4544-99b6-4c07cfb2ce1d",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        840,
        20
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "62ecc5b6-c209-4624-8013-40f97f556769",
      "name": "Sticky Note3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        840,
        320
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    },
    {
      "id": "f6f489db-f122-4397-b25e-d9cbdef4c1c9",
      "name": "Sticky Note4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        840,
        620
      ],
      "parameters": {
        "content": ""
      },
      "typeVersion": 1
    }
  ],
  "pinData": {},
  "connections": {
    "Wait": {
      "main": [
        [
          {
            "node": "Loop Over Text Ads",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Loop Over Image Ads",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait2": {
      "main": [
        [
          {
            "node": "Loop Over Video Ads",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait3": {
      "main": [
        [
          {
            "node": "Analyze Video with Gemini",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Loop Over Video Ads",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Image Ads",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Text Ads",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze Image": {
      "main": [
        [
          {
            "node": "Output Image Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Video": {
      "main": [
        [
          {
            "node": "Upload Video to Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter For Likes": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redownload Video": {
      "main": [
        [
          {
            "node": "Upload Video to Gemini",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add as Type = Text": {
      "main": [
        [
          {
            "node": "Wait",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Text Ads": {
      "main": [
        [],
        [
          {
            "node": "Output Text Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add as Type = Image": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add as Type = Video": {
      "main": [
        [
          {
            "node": "Wait2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Image Ads": {
      "main": [
        [],
        [
          {
            "node": "Analyze Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Video Ads": {
      "main": [
        [],
        [
          {
            "node": "Download Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Output Text Summary": {
      "main": [
        [
          {
            "node": "Add as Type = Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Output Image Summary": {
      "main": [
        [
          {
            "node": "Add as Type = Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Output Video Summary": {
      "main": [
        [
          {
            "node": "Add as Type = Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload Video to Drive": {
      "main": [
        [
          {
            "node": "Begin Gemini Upload Session",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Run Ad Library Scraper": {
      "main": [
        [
          {
            "node": "Filter For Likes",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload Video to Gemini": {
      "main": [
        [
          {
            "node": "Wait3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Analyze Video with Gemini": {
      "main": [
        [
          {
            "node": "Output Video Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Begin Gemini Upload Session": {
      "main": [
        [
          {
            "node": "Redownload Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Run Ad Library Scraper",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}