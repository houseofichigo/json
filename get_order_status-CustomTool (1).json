{
  "name": "get_order_status",
  "description": "Responsible for retrieving order status",
  "color": "linear-gradient(rgb(127,15,197), rgb(154,6,176))",
  "iconSrc": "",
  "schema": "[{\"id\":0,\"property\":\"order_id\",\"description\":\"Order ID to get the status\",\"type\":\"string\",\"required\":true}]",
  "func": "/*\n* You can use any libraries imported in Flowise\n* You can use properties specified in Input Schema as variables. Ex: Property = userid, Variable = $userid\n* You can get default flow config: $flow.sessionId, $flow.chatId, $flow.chatflowId, $flow.input, $flow.state\n* You can get custom variables: $vars.<variable-name>\n* Must return a string value at the end of function\n*/\n\nconst fetch = require('node-fetch');\nconst url = `https://run.mocky.io/v3/${$order_id}`;\nconst options = {\n    method: 'GET',\n    headers: {\n        'Content-Type': 'application/json'\n    }\n};\ntry {\n    const response = await fetch(url, options);\n    if(response.status !== 200){\n      return 'error'\n    }\n    const text = await response.text();\n    return text;\n} catch (error) {\n    console.error(error);\n    return 'error';\n}"
}