{
  "id": "ZCioSOYsqo4fnil1",
  "meta": {
    "instanceId": "06e5009344f682419c20ccd4ecdcb5223bbb91761882af93ac6d468dbc2cbf8d"
  },
  "name": "The Recap AI - News Scraping Pipeline",
  "tags": [],
  "nodes": [
    {
      "id": "7a3a1726-b43e-4b4f-84b8-c50739a1ca70",
      "name": "google_news_trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        0,
        260
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 3
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "08dc06bb-af31-4714-8439-a6521e77d6a2",
      "name": "fetch_google_news_feed",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        220,
        260
      ],
      "parameters": {
        "url": "https://rss.app/feeds/v1.1/AkOariu1C7YyUUMv.json",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "8f6a923f-0b97-45b6-a2bf-d044a7a7ede8",
      "name": "split_google_news_items",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        440,
        260
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "items"
      },
      "typeVersion": 1
    },
    {
      "id": "51b553e5-52d5-4840-8e60-783648a65a51",
      "name": "blog_open_ai_trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        0,
        0
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 4
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "2ff2ba43-0985-4d49-a8c1-8da72f8705c1",
      "name": "fetch_blog_open_ai_feed",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        220,
        0
      ],
      "parameters": {
        "url": "https://rss.app/feeds/v1.1/xNVg2hbY14Z7Gpva.json",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "15d913b7-1f5d-437d-a8df-61199fd60853",
      "name": "split_blog_open_ai_items",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        440,
        0
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "items"
      },
      "typeVersion": 1
    },
    {
      "id": "320cdd9e-7fe6-4f69-ad82-48cb2e3d1fe6",
      "name": "scrape_url",
      "type": "n8n-nodes-base.httpRequest",
      "onError": "continueRegularOutput",
      "maxTries": 3,
      "position": [
        1060,
        260
      ],
      "parameters": {
        "url": "https://api.firecrawl.dev/v1/scrape",
        "method": "POST",
        "options": {},
        "jsonBody": "={\n  \"url\": \"{{ $json.url }}\",\n  \"formats\": [\"json\", \"markdown\", \"rawHtml\", \"links\"],\n  \"excludeTags\": [\"iframe\", \"nav\", \"header\", \"footer\"],\n  \"onlyMainContent\": true,\n  \"jsonOptions\": {\n    \"prompt\": \"Identify the main content of the text (i.e., the article or newsletter body). Provide the exact text for that main content verbatim, without summarizing or rewriting any part of it. Exclude all non-essential elements such as banners, headers, footers, calls to action, ads, or purely navigational text. Format this output as markdown using appropriate '#' characters as heading levels. Exclude any promotional or sponsored content on your output.\",\n    \"schema\": {\n      \"type\": \"string\",\n      \"description\": \"The exact verbatim main text content of the web page in markdown format.\"\n    }\n  }\n}",
        "sendBody": true,
        "sendHeaders": true,
        "specifyBody": "json",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        }
      },
      "credentials": {
        "httpHeaderAuth": {
          "id": "lmTVzG1xWauWxR9I",
          "name": "Instantly API"
        }
      },
      "retryOnFail": true,
      "typeVersion": 4.2,
      "waitBetweenTries": 5000
    },
    {
      "id": "f095ece6-a1f9-460c-b542-fce0ed82b797",
      "name": "upload_markdown",
      "type": "n8n-nodes-base.googleDrive",
      "onError": "continueRegularOutput",
      "position": [
        1860,
        260
      ],
      "parameters": {
        "name": "={{ $binary.data.fileName }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive",
          "cachedResultUrl": "https://drive.google.com/drive/my-drive",
          "cachedResultName": "My Drive"
        },
        "options": {},
        "folderId": {
          "__rl": true,
          "mode": "list",
          "value": "13_W8MvFeaIdGNdkX8lSNV-zVFraoG6j6",
          "cachedResultUrl": "https://drive.google.com/drive/folders/13_W8MvFeaIdGNdkX8lSNV-zVFraoG6j6",
          "cachedResultName": "News Scraper Automation"
        }
      },
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "PgwI1k1VFnoEhOi6",
          "name": "Google Drive account"
        }
      },
      "typeVersion": 3
    },
    {
      "id": "fc6a610c-96e2-4e6d-9c75-c3823c80bcfc",
      "name": "create_markdown_file",
      "type": "n8n-nodes-base.convertToFile",
      "onError": "continueRegularOutput",
      "position": [
        1620,
        260
      ],
      "parameters": {
        "options": {
          "fileName": "=news_story_{{ $itemIndex + 1 }}.md"
        },
        "operation": "toText",
        "sourceProperty": "data.markdown"
      },
      "typeVersion": 1.1
    },
    {
      "id": "9888b029-6424-4385-a9dc-6fd7c079e7e0",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        0,
        540
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 3
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "7c4b5293-285c-4c3d-8042-4e8e7f07ddec",
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        220,
        540
      ],
      "parameters": {
        "url": "https://rss.app/feeds/v1.1/sgHcE2ehHQMTWhrL.json",
        "options": {}
      },
      "typeVersion": 4.2
    },
    {
      "id": "f5e417cc-e9bb-4ab5-96e1-d8dc5fc53152",
      "name": "Split Out",
      "type": "n8n-nodes-base.splitOut",
      "position": [
        440,
        540
      ],
      "parameters": {
        "options": {},
        "fieldToSplitOut": "items"
      },
      "typeVersion": 1
    },
    {
      "id": "c4b584c1-51d3-4689-bd85-5132e81ec593",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -100,
        -140
      ],
      "parameters": {
        "color": 4,
        "width": 840,
        "height": 900,
        "content": "## 1. Fetch News Articles from RSS.app Feeds"
      },
      "typeVersion": 1
    },
    {
      "id": "a75d6952-f7b0-496c-bdd5-aad6b6e7a931",
      "name": "Sticky Note1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        860,
        40
      ],
      "parameters": {
        "color": 6,
        "width": 520,
        "height": 520,
        "content": "## 2. Scrape Urls Using Firecrawl API\n\nCreate and use your Generic Header Credential here in order to authenticate to the Firecrawl API."
      },
      "typeVersion": 1
    },
    {
      "id": "398aa6cd-dfa2-4533-9478-4fa559f9122a",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1500,
        40
      ],
      "parameters": {
        "width": 600,
        "height": 520,
        "content": "## 3. Upload Markdown File To Google Drive\n\nCreate and specify your Google Drive Credentials and then specify which folder you want to upload the markdown file to."
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "d3a72073-aa88-4d83-bc46-6d401a068ae9",
  "connections": {
    "Split Out": {
      "main": [
        [
          {
            "node": "scrape_url",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "scrape_url": {
      "main": [
        [
          {
            "node": "create_markdown_file",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "google_news_trigger": {
      "main": [
        [
          {
            "node": "fetch_google_news_feed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "blog_open_ai_trigger": {
      "main": [
        [
          {
            "node": "fetch_blog_open_ai_feed",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "create_markdown_file": {
      "main": [
        [
          {
            "node": "upload_markdown",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "fetch_google_news_feed": {
      "main": [
        [
          {
            "node": "split_google_news_items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "fetch_blog_open_ai_feed": {
      "main": [
        [
          {
            "node": "split_blog_open_ai_items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "split_google_news_items": {
      "main": [
        [
          {
            "node": "scrape_url",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "split_blog_open_ai_items": {
      "main": [
        [
          {
            "node": "scrape_url",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}