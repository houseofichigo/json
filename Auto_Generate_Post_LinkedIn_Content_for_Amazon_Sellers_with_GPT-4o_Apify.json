{
  "meta": {
    "instanceId": "4e229722e6c43a4914d2d66178b48335adf795d73afbee5b0ea0c52938ef4d8e",
    "templateCredsSetupCompleted": true
  },
  "nodes": [
    {
      "id": "2d694354-6ab0-42fd-abbf-d3085813fd49",
      "name": "Idea Generator",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        300,
        315
      ],
      "parameters": {},
      "retryOnFail": true,
      "typeVersion": 1.7
    },
    {
      "id": "069571e9-34b1-4220-aa88-65ba507201cc",
      "name": "OpenAI Chat Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        320,
        535
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "1886d8e4-e430-4893-8d5b-68d72a5b7977",
      "name": "Structured Output Parser",
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "position": [
        440,
        535
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "3aa0419c-2048-4b44-b934-30ba09a3f50a",
      "name": "Generate Image",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "position": [
        660,
        315
      ],
      "parameters": {},
      "typeVersion": 1.8
    },
    {
      "id": "63e0ec06-14af-4459-a25b-51e250591287",
      "name": "Schedule ",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -1680,
        825
      ],
      "parameters": {},
      "typeVersion": 1.2
    },
    {
      "id": "08aba01d-5b18-44c3-b14a-635fa84471ed",
      "name": "Fetch Influencer Usernames",
      "type": "n8n-nodes-base.airtable",
      "position": [
        -1460,
        565
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "a51c9676-bed8-45b4-b9fb-93d83ca8392d",
      "name": "Loop Through Influencer List",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -1240,
        565
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "c99639fd-9184-4250-ba44-feb8df421ceb",
      "name": "Run LinkedIn Scraper",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1020,
        315
      ],
      "parameters": {},
      "typeVersion": 4.2
    },
    {
      "id": "e02460ba-9498-462a-bfd9-6dcff8fa6961",
      "name": "Wait for Scraper to Finish",
      "type": "n8n-nodes-base.wait",
      "position": [
        -800,
        315
      ],
      "webhookId": "a57e3a3f-84ff-493b-9a5f-b92152dd8ffd",
      "parameters": {},
      "typeVersion": 1.1
    },
    {
      "id": "3b04dd2b-2ced-4d46-9d2f-2b985bcd495f",
      "name": "Fetch Scraper Output",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -580,
        240
      ],
      "parameters": {},
      "typeVersion": 4.2,
      "alwaysOutputData": true
    },
    {
      "id": "04516adb-6912-4e35-9c7a-ecd375cf1c49",
      "name": "If Post Exists in Scraper Response",
      "type": "n8n-nodes-base.if",
      "position": [
        -360,
        315
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "18cf177b-0a97-4d77-8ed2-3cd88a6df662",
      "name": "Fetch Last Post in Airtable",
      "type": "n8n-nodes-base.airtable",
      "position": [
        -140,
        315
      ],
      "parameters": {},
      "typeVersion": 2.1,
      "alwaysOutputData": true
    },
    {
      "id": "31987011-291e-4311-8beb-df8042f0b33a",
      "name": "If New Post Found",
      "type": "n8n-nodes-base.if",
      "position": [
        80,
        315
      ],
      "parameters": {},
      "typeVersion": 2.2
    },
    {
      "id": "4d450009-801d-4403-a014-989811c8e012",
      "name": "Upload Image to Google Drive",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        880,
        315
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "393bef02-9b09-419e-b756-383c75e393f9",
      "name": "Create Airtable Record",
      "type": "n8n-nodes-base.airtable",
      "position": [
        1100,
        440
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "96aa3ae0-87d0-4135-90f0-8548c9e038be",
      "name": "Find Approved LinkedIn Posts",
      "type": "n8n-nodes-base.airtable",
      "position": [
        -1460,
        825
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "7087ff10-6e71-4394-8c88-f2c7cef1cf85",
      "name": "Pick One Approved Post",
      "type": "n8n-nodes-base.limit",
      "position": [
        -1240,
        825
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "e213d554-1996-4182-8afc-23cdc95e80c1",
      "name": "Download Post Image from Drive",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        -1020,
        825
      ],
      "parameters": {},
      "typeVersion": 3
    },
    {
      "id": "08225727-ca9b-4de2-8d60-7dee032f31ff",
      "name": "Publish Post to LinkedIn",
      "type": "n8n-nodes-base.linkedIn",
      "position": [
        -800,
        825
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "2db25d96-a6ba-4117-830b-3065396c17d2",
      "name": "Mark Post as Posted in Airtable",
      "type": "n8n-nodes-base.airtable",
      "position": [
        -580,
        825
      ],
      "parameters": {},
      "typeVersion": 2.1
    },
    {
      "id": "4ac83d58-0a6d-4339-b60e-dcabe5357490",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -1680,
        565
      ],
      "parameters": {},
      "typeVersion": 1.2
    }
  ],
  "pinData": {},
  "connections": {
    "Schedule ": {
      "main": [
        [
          {
            "node": "Find Approved LinkedIn Posts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Image": {
      "main": [
        [
          {
            "node": "Upload Image to Google Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Idea Generator": {
      "main": [
        [
          {
            "node": "Generate Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Fetch Influencer Usernames",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If New Post Found": {
      "main": [
        [
          {
            "node": "Idea Generator",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Through Influencer List",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Idea Generator",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Scraper Output": {
      "main": [
        [
          {
            "node": "If Post Exists in Scraper Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Run LinkedIn Scraper": {
      "main": [
        [
          {
            "node": "Wait for Scraper to Finish",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Create Airtable Record": {
      "main": [
        [
          {
            "node": "Loop Through Influencer List",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Pick One Approved Post": {
      "main": [
        [
          {
            "node": "Download Post Image from Drive",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Publish Post to LinkedIn": {
      "main": [
        [
          {
            "node": "Mark Post as Posted in Airtable",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Idea Generator",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Influencer Usernames": {
      "main": [
        [
          {
            "node": "Loop Through Influencer List",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait for Scraper to Finish": {
      "main": [
        [
          {
            "node": "Fetch Scraper Output",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Last Post in Airtable": {
      "main": [
        [
          {
            "node": "If New Post Found",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Find Approved LinkedIn Posts": {
      "main": [
        [
          {
            "node": "Pick One Approved Post",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Through Influencer List": {
      "main": [
        [],
        [
          {
            "node": "Run LinkedIn Scraper",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload Image to Google Drive": {
      "main": [
        [
          {
            "node": "Create Airtable Record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Post Image from Drive": {
      "main": [
        [
          {
            "node": "Publish Post to LinkedIn",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If Post Exists in Scraper Response": {
      "main": [
        [
          {
            "node": "Fetch Last Post in Airtable",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait for Scraper to Finish",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}